<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-help-name="trigger">
    <p>觸發後，此節點將會發送一則訊息，然後可以等待若干時間後發送第二則訊息。</p>

    <h3>输入</h3>
    <dl class="message-properties">
        <dt class="optional">delay <span class="property-type">数值</span></dt>
        <dd>設定要應用於訊息的延遲(以毫秒為單位)。僅當節點配置為允許訊息去覆蓋設定的的預設延遲間隔時，此選項才適用。</dd>
        <dt class="optional">reset</dt>
        <dd>如果收到带有此属性的訊息，將重置正在進行等待或週期性重發工作，不會觸發任何訊息。</dd>
    </dl>

    <h3>詳細</h3>
    <p>此節點可以在流程裡建立一個逾時觸發的機制。預設情況下，當此節點收到一則訊息時，他將立即發送一則 payload 為<code>1</code>的訊息，然後等待 250ms 後再發送第二則 payload 為<code>0</code>的訊息。實務上，這可以用於 Raspberry Pi 的場景，例如控制 GPIO 腳位實現 LED 閃爍。</p>
    <p>可以設定發送訊息的 payload 為各種類型的值，甚至可以不發送任何訊息。例如，將第一則訊息設定為「<i>無</i>」，然後選擇「等待」動作選項，此節點將變成 watchdog timer，當在設定的時限內未收到任何訊息時才觸發。</p>
    <p>如果發送訊息的內容類型設定為「<i>字串</i>」，則內容支援<i>mustache</i>範本語法。</p>
    <p>可以藉由設定<code>msg.delay</code>來取代原本發送訊息之間的延遲設定，該值必須以毫秒為單位。</p>
    <p>如果接收到帶有<code>reset</code>属性的訊息，或是<code>payload</code>內容符合條件，所有逾時或週期性重發工作將被清除而且不會有訊息被觸發。</p>
    <p>可以設定為固定間隔時間週期性觸發以發送訊息，直到收到重置訊息為止。</p>
    <p>額外的功能，此節點可以用於同時處理多個獨立的訊息流程，可使用特定的訊息的屬性來區分不同的流程，預設為<code>msg.topic</code>。</p>
</script>
