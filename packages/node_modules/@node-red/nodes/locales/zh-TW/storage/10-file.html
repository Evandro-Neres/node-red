<!--
  Copyright JS Foundation and other contributors, http://js.foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="file">
    <p>將 <code>msg.payload</code> 內容寫入檔案，附加到尾端或替換現有內容。或者，它也可以刪除檔案。</p>
    <h3>輸入</h3>
    <dl class="message-properties">
        <dt class="optional">filename<span class="property-type">字串</span></dt>
        <dd>如果未在節點的靜態設定中指定，則此可選屬性可以動態指定檔案名稱。</dd>
    </dl>
    <h3>輸出</h3>
    <p>寫入完成後，輸入訊息將發送到輸出連接點。</p>
    <h3>詳細</h3>
    <p>每個訊息的 payload 將附加到檔案的尾端，可以選擇在每個訊息之間插入一個換行字元（\n）。</p>
    <p>如果使用 <code>msg.filename</code> 來動態指定檔案名稱，則每次寫入檔案後都會關閉。所以爲了得到最好的執行效率，請盡量使用靜態設定以使用固定的檔案名稱。</p>
    <p>可以將其設定爲覆蓋整個檔案，而不是在檔案後附加內容。例如，在將二進位資料寫入檔案（例如影像內容）時，應該使用此選項，並且應禁用在每次寫入之間插入換行字元的選項。</p>
    <p>可以從編碼列表中指定寫入檔案的資料編碼。</p>
    <p>您可以將此節點設定爲刪除檔案。</p>
</script>

<script type="text/html" data-help-name="file in">
    <p>以字串或二進位 buffer 的形式讀取檔案的內容。</p>
    <h3>輸入</h3>
    <dl class="message-properties">
        <dt class="optional">filename<span class="property-type">字串</span></dt>
        <dd>如果未在節點的靜態設定中指定，該屬性可以選擇要讀取的檔案名稱。</dd>
    </dl>
    <h3>輸出</h3>
    <dl class="message-properties">
        <dt>payload <span class="property-type">字串 | buffer</span></dt>
        <dd>檔案的內容可以是字串，也可以是二進位的 buffer。</dd>
        <dt class="optional">filename <span class="property-type">字串</span></dt>
        <dd>如果未在節點的靜態設定中指定，該屬性可以選擇要讀取的檔案名稱。</dd>
    </dl>
    <h3>詳細</h3>
    <p>檔案名應該是絕對路徑，否則將代表相對於 Node-RED 程序的工作目錄。</p>
    <p>在 Windows 上，路徑分隔字元必須使用跳脫形式，例如：<code>\\Users\\myUser</code>。</p>
    <p>可以選擇將純文字檔案拆分爲許多行，每行輸出一則訊息，或者將二進位檔案拆分爲較小的 buffer 區塊 - 區塊大小取決於作業系統，常見情況爲 64k（Linux/Mac）或 41k（Windows）。</p>
    <p>當拆分爲多則訊息時，每則訊息將具有 <code>parts</code> 屬性，從而將其描述成完整的訊息序列。</p>
    <p>如果輸出格式爲字串，則可以從編碼列表中指定輸入資料的編碼。</p>
    <p>應該使用 Catch 節點來攔截並處理其錯誤。</p>
</script>
